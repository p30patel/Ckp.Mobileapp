<kendo-mobile-view k-title="'{{form.title.resoruceValue}}'" k-layout="'default'" ng-controller="orderDetailController" k-on-show="intShow(kendoEvent)" k-after-show="afterShow" >
    <kendo-mobile-header>
        <kendo-mobile-nav-bar class="km-accent">
            <kendo-mobile-button ng-show="trackingCount > 0" id="btn_tracking"  k-align="'right'" ng-click="showTrakcingListModal()">
                <i class="ck-icon ck-track" style="font-size: 140%; margin-top: .6em;"></i>
            </kendo-mobile-button>
            
            <kendo-mobile-back-button k-align="'left'" >
                <i class="ck-icon ck-barrow"></i>
            </kendo-mobile-back-button>
            <kendo-view-title>Order Details</kendo-view-title>
        </kendo-mobile-nav-bar>
    </kendo-mobile-header>
    <kendo-mobile-content>
        <kendo-mobile-list-view class="ck-no-border ck-grey-wrap">
            <li>
                <h2 class="km-bold-font">{{order.detail.MobileOrderDetail.OrganizationName}}</h2>
                <table class="ck-table">
                    <tr>
                        <td class="v-align">
                            <h3 class="km-bold-font">{{form.orderDate.resoruceValue}}</h3>
                            <h3 class="km-bold-font">{{form.shoppingCart.resoruceValue}}</h3>
                            <h3 class="km-bold-font">{{form.orderNumber.resoruceValue}}</h3>
                            <h3 class="km-bold-font">{{form.salesOrder.resoruceValue}}</h3>
                            <h3 class="km-bold-font">{{form.vendorRef.resoruceValue}}</h3>
                        </td>
                        <td class="v-align">
                            <h3 ng-show="order.detail.MobileOrderDetail.IsStagedOrder">:{{order.detail.MobileOrderDetail.DateInSystem | date}}</h3>
                             <h3 ng-show="!order.detail.MobileOrderDetail.IsStagedOrder">:{{order.detail.MobileOrderDetail.OrderDate | date}}</h3>
                            <h3>:{{order.detail.MobileOrderDetail.ShoppingCartId}}</h3>
                            <h3>:{{order.detail.MobileOrderDetail.OrderNumber}}</h3>
                            <h3>:{{order.detail.MobileOrderDetail.SalesOrderNumber}}</h3>
                            <h3>:{{order.detail.MobileOrderDetail.VendorRef}}</h3>
                        </td>
                        <td class="v-align c-align">
                           <!-- <div class="status open">{{order.detail.MobileOrderDetail.Status}}</div>-->
                               <div class="status open">Open</div> <!--remove after new frameowrk deplyoment-->
                            <input kendo-mobile-switch k-checked="checked" />
                            <h3 class="notify">{{form.notifyMe.resoruceValue}}</h3>
                        </td>
                    </tr>
                </table>
            </li>
            <kendo-mobile-collapsible k-icon-position="'right'" k-expand-icon="'plus'" k-collapse-icon="'minus'" k-collapsed="'true'" k-on-expand="OpenExpand()">
                <h4>{{form.billingInfo.resoruceValue}}</h4>
                 <p ng-if="order.detail.MobileOrderDetail.BillingAddress === null">
                   <!--<p> No data are found!</p> -->
                     <p>TJX COMPANY</p>
                     <p>
The TJX Companies, Inc</p>
                     <p>
Framingham, MA, 01701, US</p>
                </p>
              
                <p>
                    <b>{{order.detail.MobileOrderDetail.BillingAddress.Name}}</b>
                </p>
                <p ng-show="order.detail.MobileOrderDetail.BillingAddress.Contact">{{order.detail.MobileOrderDetail.BillingAddress.Contact}}</p>
                <p ng-show="order.detail.MobileOrderDetail.BillingAddress.StoreNumber">{{order.detail.MobileOrderDetail.BillingAddress.StoreNumber}}</p>
                <p ng-show="order.detail.MobileOrderDetail.BillingAddress.Street1">{{order.detail.MobileOrderDetail.BillingAddress.Street1}}</p>
                <p ng-show="order.detail.MobileOrderDetail.BillingAddress.Street2">{{order.detail.MobileOrderDetail.BillingAddress.Street2}}</p>
                <p ng-show="order.detail.MobileOrderDetail.BillingAddress.Street3">{{order.detail.MobileOrderDetail.BillingAddress.Street3}}</p>
                <p ng-show="order.detail.MobileOrderDetail.BillingAddress.Street4">{{order.detail.MobileOrderDetail.BillingAddress.Street4}}</p>
                <p ng-show="order.detail.MobileOrderDetail.BillingAddress.City">{{order.detail.MobileOrderDetail.BillingAddress.City}}, {{order.detail.MobileOrderDetail.BillingAddress.StateProv}} {{order.detail.MobileOrderDetail.BillingAddress.ZipCode}} {{order.detail.MobileOrderDetail.BillingAddress.Iso3166}} </p>
            </kendo-mobile-collapsible>
            <kendo-mobile-collapsible k-mini="false" k-icon-position="'right'" k-expand-icon="'plus'" k-collapse-icon="'minus'" k-collapsed="true" k-on-expand="OpenExpand()">
            <h4>{{form.shiptoInfo.resoruceValue}}</h4>
               <p ng-if="order.detail.MobileOrderDetail.DeliveryAddress === null">
                  <!--<p> No data are found!</p> -->
                    <p>TJX COMPANY</p>
                     <p>
The TJX Companies, Inc</p>
                     <p>
Framingham, MA, 01701, US</p>
                </p>
               
                <p>
                    <b>{{order.detail.MobileOrderDetail.DeliveryAddress.Name}}</b>
                </p>
                <p ng-show="order.detail.MobileOrderDetail.DeliveryAddress.Contact">{{order.detail.MobileOrderDetail.DeliveryAddress.Contact}}</p>
                <p ng-show="order.detail.MobileOrderDetail.DeliveryAddress.StoreNumber">{{order.detail.MobileOrderDetail.DeliveryAddress.StoreNumber}}</p>
                <p ng-show="order.detail.MobileOrderDetail.DeliveryAddress.Street1">{{order.detail.MobileOrderDetail.DeliveryAddress.Street1}}</p>
                <p ng-show="order.detail.MobileOrderDetail.DeliveryAddress.Street2">{{order.detail.MobileOrderDetail.DeliveryAddress.Street2}}</p>
                <p ng-show="order.detail.MobileOrderDetail.DeliveryAddress.Street3">{{order.detail.MobileOrderDetail.DeliveryAddress.Street3}}</p>
                <p ng-show="order.detail.MobileOrderDetail.DeliveryAddress.Street4">{{order.detail.MobileOrderDetail.DeliveryAddress.Street4}}</p>
                <p ng-show="order.detail.MobileOrderDetail.DeliveryAddress.City">{{order.detail.MobileOrderDetail.DeliveryAddress.City}}, {{order.detail.MobileOrderDetail.DeliveryAddress.StateProv}} {{order.detail.MobileOrderDetail.DeliveryAddress.ZipCode}} {{order.detail.MobileOrderDetail.DeliveryAddress.Iso3166}} </p>
            </kendo-mobile-collapsible>
            <kendo-mobile-collapsible class="ck-inquiry" k-mini="false" k-icon-position="'right'" k-expand-icon="'plus'" k-collapse-icon="'minus'" k-collapsed="true" k-on-expand="OpenExpand()">
                    <h4>{{form.orderInquiry.resoruceValue}}</h4>
                <table class="ck-table">
                    <tr>
                        <td>
                            <fieldset>
                                <textarea rows="3" placeholder="{{form.orderInquiry.resoruceValue}}" ng-model="inqueryComment"></textarea>
                            </fieldset>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <i></i>
                            <kendo-mobile-button class="km-primary km-large km-justified" style="margin-top:1em;" k-on-click="send()">{{form.sendInquiry.resoruceValue}}</kendo-mobile-button>
                            <p ng-show="inqueryMessage" class="text-center ckp-a-link" k-transition="'slide'" ng-bind-html="renderHtml(inqueryMessage)"></p>
                        </td>
                    </tr>
                </table>
            </kendo-mobile-collapsible>
            <kendo-mobile-collapsible class="ck-details" k-mini="false" k-icon-position="'right'" k-expand-icon="'plus'" k-collapse-icon="'minus'" k-collapsed="true" k-on-expand="OpenExpand()">
                <h4>{{form.orderDetail.resoruceValue}}</h4>
                <table class="ck-table pad">
                    <tr class="med-grey pipe">
                        <td>
                            <h4 class="km-bold-font">{{form.item.resoruceValue}}</h4>
                        </td>
                        <td>
                            <h4 class="km-bold-font">{{form.quantity.resoruceValue}}</h4>
                        </td>
                        <td>
                            <h4 class="km-bold-font">{{form.price.resoruceValue}}</h4>
                        </td>
                    </tr>
                    <tr class="pipe" ng-repeat="orderLine in order.detail[0].ProductionOrderData.OrderLines">
                        <td>
                            <h4 class="km-bold-font">{{orderLine.ProductName}}</h4>
                            <h5>{{form.itemCode.resoruceValue}}: {{orderLine.RetailerProductCode}}</h5>
                            <h5>{{orderLine.FormattedGrossPrice}}</h5>
                            <h5>{{form.prodcutionLocation.resoruceValue}}:{{order.detail[0].OrderDetailData[0].PrintingLocation}}</h5>
                        </td>
                        <td class="v-align">
                            <h4 class="km-bold-font">{{orderLine.Quantity.Value}}</h4>
                        </td>
                        <td class="v-align">
                            <h4 class="km-bold-font">{{orderLine.FormattedNetValue}}</h4>
                        </td>
                    </tr>
                   
                       <!--remove below tr once next production delployment-->
                       <tr class="pipe" >
                        <td>
                            <h4 class="km-bold-font">MARSHALLS GUM LABEL ON SHEETS</h4>
                            <h5>{{form.itemCode.resoruceValue}}: 8-SH</h5>
                            <h5>49.40 USD
</h5>
                            <h5>{{form.prodcutionLocation.resoruceValue}}:DAYTON OHIO LASER</h5>
                        </td>
                        <td class="v-align">
                            <h4 class="km-bold-font">3800</h4>
                        </td>
                        <td class="v-align">
                            <h4 class="km-bold-font">49.40 USD</h4>
                        </td>
                    </tr>
                     </table>
                <table class="ck-table pad">
                    <tr class="pipe" style="background:#fff;">
                        <td>
                            <h4>{{form.releasedBy.resoruceValue}}</h4>
                            <h4>{{form.email.resoruceValue}}</h4>
                            <h4>{{form.phone.resoruceValue}}</h4>
                        </td>
                        <td>
                            <h4>:use001</h4>
                            <h4>:user01@yaho.com</h4>
                            <h4>:12121</h4>
                        </td>
                    </tr>
                </table>
                   <!--    <tr class="pipe" ng-repeat="orderLine in order.detail[0].ProductionOrderData.OrderLines">
                        <td>
                            <h4 class="km-bold-font">{{orderLine.ProductName}}</h4>
                            <h5>{{form.itemCode.resoruceValue}}: {{orderLine.RetailerProductCode}}</h5>
                            <h5>{{orderLine.FormattedGrossPrice}}</h5>
                            <h5>{{form.prodcutionLocation.resoruceValue}}:{{order.detail[0].OrderDetailData[0].PrintingLocation}}</h5>
                        </td>
                        <td class="v-align">
                            <h4 class="km-bold-font">{{orderLine.Quantity.Value}}</h4>
                        </td>
                        <td class="v-align">
                            <h4 class="km-bold-font">{{orderLine.FormattedNetValue}}</h4>
                        </td>
                    </tr>
                </table>
                <table class="ck-table pad">
                    <tr class="pipe" style="background:#fff;">
                        <td>
                            <h4>{{form.releasedBy.resoruceValue}}</h4>
                            <h4>{{form.email.resoruceValue}}</h4>
                            <h4>{{form.phone.resoruceValue}}</h4>
                        </td>
                        <td>
                            <h4>:{{order.detail[0].ReleasedBy}}</h4>
                            <h4>:{{order.detail[0].Email}}</h4>
                            <h4>:{{order.detail[0].Phone}}</h4>
                        </td>
                    </tr>
                </table>-->
            </kendo-mobile-collapsible>
     
        </kendo-mobile-list-view>
    </kendo-mobile-content>
    <!--  url tracking modal -->
    <kendo-mobile-modal-view id="modalview-trackingList" class="km-moduleview" style="width: 100%; height:100%; background:rgba(255, 255, 255, 0);" data-use-native-scrolling="true">
        <kendo-mobile-header>
            <kendo-mobile-nav-bar class="km-dark">
                <kendo-view-title>{{form.trackingList.resoruceValue}}</kendo-view-title>
                <kendo-mobile-button ng-click="closeTrackingListModel()" data-tap="myTouch.tap" k-transition="'fade'" k-align="'right'" style="background: none; border: none;">
                    <img src="styles/images/close-button.png" style="width: 1.6em; height: 1.6em;" />
                </kendo-mobile-button>
            </kendo-mobile-nav-bar>
        </kendo-mobile-header>

         <div style="margin-bottom: .5em;" class="ck-module-solid ck-no-border" k-style="'inset'" >
        <ul kendo-mobile-list-view ng-repeat="tracking in trackingList">
            <li> <kendo-mobile-button k-align="left" k-on-click="showTracking('{{tracking.TrackingUrl}}')" style="border:none !important; background: #F8F8F8!important; text-align:left !important;" class="km-listview-link">{{tracking.AwbNumber}}</kendo-mobile-button></li>
        </ul>
        </div>

    </kendo-mobile-modal-view>
</kendo-mobile-view>
